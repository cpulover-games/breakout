<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breakout</title>
</head>

<body>
    <canvas id="gameCanvas" height="500" width="500"></canvas>

    <script>
        var canvas;
        /** @type {CanvasRenderingContext2D} */ // declare type in VSCode (for autofilling)
        var canvasContext;
        var fps = 30;
        var ballX = 100;
        var ballY = 200;
        var ballSpeedX = 5;
        var ballSpeedY = 10;
        var ballSize = 10;

        window.onload = function () {
            canvas = document.getElementById("gameCanvas");
            canvasContext = canvas.getContext("2d");

            setInterval(updateAll, 1000 / fps); // invoke updateAll() fps times/second
        }

        function updateAll() {
            moveAll();
            drawAll();
        }

        function drawAll() {
            // big frame (draw every time to clear screen)
            colorRect(0, 0, canvas.width, canvas.height, "red");

            /* GAME ELEMENTS */
            // ball
            colorCircle(ballX, ballY, ballSize, "white")
        }

        function colorRect(topX, topY, boxWidth, boxHeight, fillColor) {
            canvasContext.fillStyle = fillColor;
            canvasContext.fillRect(topX, topY, boxWidth, boxHeight);
        }

        function colorCircle(centerX, centerY, radius, fillColor) {
            canvasContext.fillStyle = fillColor;
            canvasContext.beginPath();
            canvasContext.arc(centerX, centerY, radius, 0, Math.PI * 2, true);
            canvasContext.fill();
        }

        function moveAll() {
            // update element position
            ballX += ballSpeedX;
            ballY += ballSpeedY;
            // boundations (collision with big frame)
            if (ballX < 0 || ballX > canvas.width) {
                ballSpeedX *= -1;
            }
            if (ballY < 0 || ballY > canvas.height) {
                ballSpeedY *= -1;
            }
        }
    </script>
</body>

</html>